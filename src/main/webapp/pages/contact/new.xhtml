<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:ez="http://java.sun.com/jsf/composite/status">
    <ui:composition template="/pages/templates/layout.xhtml">

        <ui:define name="contenu">
            
            

            <h:form id="formNew">
                
                
                <table cellspacing="5">
                    <tr>
                        <td><h:outputLabel value="Nom" for="lastName" /></td>
                        <td>
                        
                        <h:inputText required="true" value="#{contactManagedBean.currentContact.lastName}" id="lastName" label="Nom ">
                            <f:validateLength minimum="2" maximum="30" />
                            <f:ajax render="lastNameMessage"/>
                        </h:inputText>
                        <h:message styleClass="error"  id="lastNameMessage" for="lastName"/>
                        </td>
                    </tr>
                    <tr>
                        <td><h:outputLabel value="Pr&#233;nom" for="firstName" /></td>
                        <td>

                        <h:inputText id="firstName" label="prenom" required="true" value="#{contactManagedBean.currentContact.firstName}">
                            <f:validateLength minimum="2" maximum="30" />
                            <f:ajax render="firstNameMessage"/>
                        </h:inputText>
                        <h:message errorClass="error" id="firstNameMessage" for="firstName"/>

                        </td>
                    </tr>


                    <tr>
                        <td><h:outputLabel value="Date de naissance" for="firstName" /></td>
                        <td>
                        <h:inputText id="birthDate" label="Date de naissance" required="true" value="#{contactManagedBean.currentContact.birthDate}">
                            <f:convertDateTime pattern="dd/MM/yyyy" />
                           <f:ajax render="birthDateMessage"/>
                        </h:inputText>
                         <h:message errorClass="error" id="birthDateMessage" for="birthDate"/>

                        </td>
                    </tr>

                    <tr>
                        <td><h:outputLabel value="Email" for="email" /></td>
                        <td>
                        <h:inputText id="email" label="email" required="true" value="#{contactManagedBean.currentContact.email}" validatorMessage="email incorrect" >
                            <f:validateRegex pattern="^[a-z0-9._-]+@[a-z0-9.-]{2,}[.][a-z]{2,3}$"/>
                            <f:ajax render="emailMessage"/>
                        </h:inputText>
                         <h:message errorClass="error" id="emailMessage" for="email"/>

                        </td>
                    </tr>

                    <tr>
                        <td>
                    <h:commandButton class="button" value="annuler" action="index?faces-redirect=true" immediate="true"/>
                    </td>

                    <td>
                    <h:commandButton value="Valider"
                                     action="#{contactManagedBean.addContact}" class="button" />
                    </td>
                    </tr>
                </table>
               
            </h:form>
        </ui:define>

    </ui:composition>
</html>